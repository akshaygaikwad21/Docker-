#Dockerfile 

FROM amazonlinux
RUN yum update && yum install nginx -y 
CMD ["nginx", "-g", "daemon off;"]


FROM amazonlinux
RUN yum update && yum install -y java-17-amazon-corretto.x86_64 && yum install maven -y
COPY student-ui /
RUN mvn clean package
COPY tomcat /tomcat
RUN mv target/*.war tomcat/webapps/student.war
EXPOSE 8080
RUN chmod 755 tomcat/bin/catalina.sh
CMD ["tomcat/bin/catalina.sh", "run"]